# 操作系统之哲学原理第二版笔记

## 什么是操作系统

操作系统是介于硬件和应用软件之间的系统软件。

站在人类的角度看，操作系统是**管理者（管理硬件资源）**和**魔术家（为上层应用软件提供各种魔幻般的服务）**

操作系统主要功能：**进程管理、内存管理、磁盘管理、IO 管理**

## 进程管理

- 什么是进程

  运行中的程序，为多道程序编程提供方便，提高系统的整体响应速度

- 进程管理

  进程调度算法

  进程通讯方法

- 什么是线程

  线程是进程的一个执行序列，线程是 CPU 调度的基本，进程时资源分配的基本单位。

- 线程管理

  线程同步

  死锁避免



## 内存管理

负责对内存的架构进行管理，使得程序在内存架构的任何一个层次上的存放对于用户而言都是一样的。用户无序担心自己的程序是存储在缓存，主存，磁盘还是磁带上，运行结果都一样在那个



### 目标

地址保护：一个程序不能访问另一个程序地址空间

地址独立：程序发出的地址应与物理主存地址无关



### 内存管理的方式

- 基本内存管理模式（固定加载地址，固定分区，非固定分区，交换）

优点：简单

缺点：内存空间增长有限，会产生外部碎片，程序不能超过物理内存容量，一个程序必须同时加载到内存才能执执行，为了克服这些缺点引入页式内存管理算法

-    页式内存管理：

优点：无外部碎片，程序可以超过物理内存，不用将所有程序都加在到内存程序就可以运行

缺点：共享不方便，一个程序只能够占用一个虚拟地址空间

-    段式内存管理：

 优点：方便共享，一个程序可以占有多个虚拟地址空间

缺点：分段内的程序必须全部加载到内存才能够运行

## 磁盘管理

为了方便用户使用操作系统将磁盘抽象为文件系统。

### 磁盘的调度的算法

先来先服务.短任务优先.短寻道优先.电梯调度（ES）.提前查案电梯调度（ESLA）.单向电梯调度（OWES）

### 什么是文件系统？

文件系统是操作系统对磁盘的抽象表示，主要用来管理文件，目录的

### 文件系统的目的 ：

-   文件地址独立（目录）
-   文件保护 （访问控制表，能力表，域）

### 3.3 文件系统的管理方式？

-    1.文件如何实现
- ​    1 给文件分配磁盘空间

连续分配和非连续分配（链表组织，索引组织）

- ​     2 记住这些磁盘空间的位置（通过目录）
- ​     3 将文件内容存放到这些空间
- \2. 文件共享的实现方式：

连接（软连接和硬链接）

## IO 管理

### 什么是IO管理？

O管理：输入和输出的硬件模式和软件模式以及这两种模式之间的关系

输入输出管理的目的？

-    屏蔽输入输出设备的差异
-    在不同设计之间进行数据表示的转换

### IO管理如何实现？

两个层面考量：软件层面和硬件层面

硬件层面：CPU访问IO 的方式：专用IO，内存映射IO，混合IO；CPU参与IO的多少：繁忙等待，直接访问

软件层面：可编程IO， 中断驱动IO，直接内存访问IO（DMA）





